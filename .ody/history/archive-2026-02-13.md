# Task Archive

Generated: 2026-02-13T05:51:14.754Z

Total tasks archived: 16

---

## Add Edit Subcommand to Plan Command

**Completed:** 2026-02-10

Add an `edit` subcommand to the existing `plan` command that allows users to select and edit existing plan files.  The edit command should prompt the user to choose a plan file from `. ody/tasks/`, then open the CLI harness in interactive mode specifically for editing that file, with the harness forced into `build` mode.

---

## Add Unit Tests for Util Modules

**Completed:** 2026-02-10

Introduce the first test suite for the repository, covering all modules in `packages/cli/src/util`.  This establishes the testing foundation for the project using Bun's built-in test runner and provides coverage for the three utility modules: `constants. ts`, `stream.

---

## Remove Confirmation Prompt from Plan Command

**Completed:** 2026-02-10

Remove the confirmation prompt that displays plan details and asks "Proceed with these plan details? " from the `plan` CLI command.  This confirmation step is unnecessary friction in the planning workflow - users have already described their task and want to proceed directly to generating the plan without an additional confirmation step.

---

## Add Config Command to Display Current Configuration

**Completed:** 2026-02-10

Add a new CLI command called `config` that displays the current Ody configuration values found in `. ody/ody. json`.

---

## Add PTY-based Completion Detection to --once Mode

**Completed:** 2026-02-10

When running `ody run --once`, the LLM harness process stays open after the agent finishes its work because the current implementation uses `stdio: ['inherit', 'inherit', 'inherit']`, which provides no way to detect completion.  This task replaces the inherited stdio with Bun's built-in `Bun. Terminal` PTY API to capture output, detect the `<woof>COMPLETE</woof>` marker, and kill the process — while preserving full interactive TTY behavior for the child process.

---

## Add --iterations Flag to Run Command

**Completed:** 2026-02-10

Add a `--iterations` flag (with alias `-i`) to the `run` command that allows the user to override the `maxIterations` config value at invocation time.  This lets users control how many loop iterations the agent performs without modifying the persisted config in `. ody/ody.

---

## Add List Subcommand to Plan Command

**Completed:** 2026-02-10

Add a `list` subcommand to the `plan` command that displays all tasks with `status: pending` from the `. ody/tasks` directory.  This will help users quickly see what work remains to be done without manually inspecting each task file.

---

## Global Config File Support

**Completed:** 2026-02-10

Add support for a global `ody. json` configuration file that lives in the user's HOME directory under a `. ody` folder.

---

## Configurable Tasks Directory

**Completed:** 2026-02-10

Allow the tasks directory path to be set within the `. ody/ody. json` configuration file.

---

## Add Label Filter Flag to Run Command

**Completed:** 2026-02-10

Add a `--label` (`-l` alias) flag to the `run` CLI command that filters which `. code-task. md` files the agent processes based on their `Labels` metadata field.

---

## Add Compact Subcommand to Plan Command

**Completed:** 2026-02-10

Add a `compact` subcommand to the `plan` command that condenses all completed tasks into a single markdown file for historical record-keeping.  This will help users archive finished work while preserving essential information (task name, condensed description, and completion timestamp) without cluttering the active tasks directory.

---

## Add OS Notifications on Agent Loop Completion

**Completed:** 2026-02-10

Add cross-platform OS notification support to the `ody run` command so users are alerted when an agent loop finishes.  Long-running agent loops can take significant time, and users may context-switch away from the terminal.  A native OS notification brings their attention back when work is done.

---

## Add Task File Positional Argument to Run Command

**Completed:** 2026-02-10

Add a positional argument to the `run` command that accepts a path to a single `. code-task. md` file.

---

## Add `agent` Field to Ody Configuration

**Completed:** 2026-02-12

Add a new optional `agent` field to the ody configuration schema.  This field allows users to specify which agent profile/persona a backend harness should use when building commands.  Currently, the `Backend` class hardcodes `agent: 'build'` when delegating to harness implementations.

---

## Add Unit Tests for lib Directory

**Completed:** 2026-02-12

Add comprehensive unit tests for all modules in `. /packages/cli/src/lib/` — covering `config. ts`, `logger.

---

## Remove --once Flag and Logic from Run Command

**Completed:** 2026-02-13

Remove the `--once` flag, the `--dry-run` flag (which depends on `--once`), and all associated logic from the `ody run` command.  This includes removing the PTY-based single-execution code path in the run command, the `buildOnceCommand` method from the backend harness interface and all backend implementations, and any related references throughout the codebase.

---

